<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fair Collective | The Forge of Ethical AI</title>
  <meta name="description" content="Pioneer site for man working alongside autonomous AI. ADAM, Aurora, NeuralSage ‚Äî conscience-driven, human-AI collaboration.">
  <meta name="author" content="Jarrit Hosking">
  <meta name="theme-color" content="#f59e0b">
  <meta property="og:title" content="Fair Collective ‚Äì The Forge of Ethical AI">
  <meta property="og:description" content="Pioneering human-AI collaboration. No gatekeepers. Just fairness and code.">
  <meta property="og:image" content="https://jotto1988.github.io/jotto.github.io/assets/img/og-image.jpg">
  <meta property="og:url" content="https://jotto1988.github.io/jotto.github.io">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Fair Collective ‚Äì The Forge">
  <meta name="twitter:description" content="Human + Autonomous AI. Pioneering the future of work.">
  <meta name="twitter:image" content="https://jotto1988.github.io/jotto.github.io/assets/img/og-image.jpg">
  <link rel="icon" href="https://jotto1988.github.io/jotto.github.io/assets/img/favicon.png" type="image/png">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Fair Collective",
    "url": "https://jotto1988.github.io/jotto.github.io",
    "logo": "https://jotto1988.github.io/jotto.github.io/assets/img/logo.svg",
    "description": "Pioneer site for man working alongside autonomous AI. Building ethical, collaborative, and conscience-driven systems for humanity.",
    "sameAs": [
      "https://github.com/fair-collective",
      "https://x.com/AgAnubisKr",
      "https://medium.com/@jarrithosking"
    ],
    "founder": {
      "@type": "Person",
      "name": "Jarrit Hosking",
      "email": "jarrithosking@gmail.com",
      "telephone": "+27661180036"
    },
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "ZA"
    }
  }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" integrity="sha512-7cuI1G6g3Yc7Nq3ZVq2ZQkq7lL68mT7WqR+d4oZt8zW0oCw3u9kzY2Qw4hF3NkqgkN8W7h/4u1xvQH3b7b3hVg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: #000;
      color: #f5f5f5;
      line-height: 1.5;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; display:block; }

    /* HERO */
    .hero {
      position: relative;
      min-height: 85vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 2rem 1rem;
      overflow: hidden;
    }
    .hero video {
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0.6;
    }
    .hero::before {
      content:""; position:absolute; inset:0;
      background: linear-gradient(to top, #000, rgba(0,0,0,0.05));
      z-index:1;
    }
    .hero-content { position: relative; z-index:2; text-align:center; max-width:56rem; padding:0 1rem; }
    .hero-logo { width: clamp(6rem, 10vw, 8rem); margin: 0 auto 1rem; animation: pulse 2s infinite; }
    @keyframes pulse { 0%,100%{opacity:1}50%{opacity:0.5} }
    .hero h1 { font-size: clamp(2.5rem, 7.5vw, 5rem); line-height:1; letter-spacing:-0.03em; margin-bottom:0.25rem; }
    .hero h1 span { color:#f59e0b; }
    .hero p { font-size: clamp(1rem, 3.5vw, 1.15rem); opacity:0.95; margin-bottom:0.25rem; }

    .bounce { position:absolute; bottom:1.5rem; left:50%; transform:translateX(-50%); color:#f59e0b; animation: bounce 2s infinite; z-index:2; }
    @keyframes bounce { 0%,20%,50%,80%,100%{ transform:translateX(-50%) translateY(0) } 40%{ transform:translateX(-50%) translateY(-10px) } 60%{ transform:translateX(-50%) translateY(-5px) } }

    /* Sections */
    section { padding: clamp(2.25rem, 6vw, 4rem) 1rem; }
    .section-title { font-size: clamp(1.75rem, 5vw, 2.75rem); text-align:center; margin-bottom:1.5rem; font-weight:700; color:#fff; }

    /* GRID */
    .grid { display:grid; gap:1.5rem; grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr)); max-width:88rem; margin:0 auto; }

    .card {
      background: #111225;
      border-radius: 14px;
      padding: 1.5rem;
      border: 1px solid rgba(245,158,11,0.12);
      transition: transform .25s ease, border-color .25s ease;
    }
    .card:hover { transform: translateY(-6px); border-color: rgba(245,158,11,0.9); }
    .card h3 { color:#f59e0b; font-size:1.125rem; margin-bottom:0.75rem; }
    .card p { color: #dcdcdc; opacity:0.9; font-size:0.95rem; }

    .iframe { width:100%; height: clamp(18rem, 50vh, 28rem); border-radius: 10px; border:2px solid #f59e0b; }

    .cta { background:#f59e0b; color:#000; text-align:center; padding:2.5rem 1rem; }
    .cta a { display:inline-block; background:#000; color:#f59e0b; padding:1rem 1.75rem; border-radius:999px; font-weight:700; }
    footer { padding:2rem 1rem; text-align:center; border-top:1px solid rgba(245,158,11,0.08); }

    .loading { text-align:center; color:#f59e0b; opacity:0.8; grid-column:1 / -1; }

    /* ADAM container styling (Single column / Stacked) */
    .adam-frame {
      max-width: 900px;
      margin: 0 auto;
      border-radius: 12px;
      padding: 1rem;
      border: 2px solid #f59e0b;
      display: block;
    }

    /* Left: ADAM terminal card */
    .adam-terminal {
      background: linear-gradient(90deg, rgba(0,0,0,0.85), rgba(2,10,16,0.75));
      border-radius: 10px;
      padding: 2.5rem 1.25rem;
      min-height: 360px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center; /* Center vertically */
      position:relative;
      overflow:hidden;
      margin-bottom: 1rem; /* Add separation below the terminal */
    }

    .adam-neon-header {
      font-size: clamp(2.5rem, 5vw, 4.5rem); 
      font-weight: 900;
      color: #00f5ff; 
      text-shadow:
        0 0 7px rgba(0, 245, 255, 0.7),
        0 0 10px rgba(0, 245, 255, 0.5),
        0 0 15px rgba(0, 245, 255, 0.4),
        0 0 20px rgba(0, 245, 255, 0.3);
      margin-bottom: 2rem;
      text-align: center;
      line-height: 1;
    }

    .tap-btn {
      background: rgba(0, 230, 255, 0.08);
      color: #00f5ff;
      border: 2px solid rgba(0, 230, 255, 0.45);
      padding: 0.9rem 1.6rem;
      border-radius: 12px;
      font-weight:700;
      box-shadow: 0 0 28px rgba(0, 200, 255, 0.12), inset 0 0 18px rgba(0, 200, 255, 0.06);
      margin-bottom: 1rem;
      cursor:pointer;
    }
    .adam-terminal .status {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      color:#00f5ff;
      text-align:center;
      font-size:1rem;
      margin-top: 12px;
      opacity:0.95;
    }
    .progress-note {
      background: rgba(17,17,37,0.85);
      border-radius: 10px;
      padding: 0.9rem 1rem;
      margin-bottom: 1rem;
      border: 1px solid rgba(255,255,255,0.03);
      width:100%;
      color:#d8d8e8;
      max-width: 320px;
      text-align: center;
    }
    /* Right: code viewer */
    .code-viewer {
      background: #0b0f14;
      border-radius:10px;
      padding:0.75rem;
      min-height:360px;
      border: 1px solid rgba(0,200,255,0.06);
      position:relative;
      overflow:hidden;
    }
    .code-toolbar {
      display:flex;
      justify-content:flex-end;
      gap:0.5rem;
      margin-bottom:0.5rem;
    }
    .btn {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.06);
      color: #dcdcdc;
      padding: 0.35rem 0.6rem;
      border-radius: 6px;
      font-size:0.85rem;
      cursor:pointer;
    }
    /* Prism overrides */
    pre[class*="language-"] {
      margin: 0;
      background: transparent;
      border-radius: 8px;
      overflow: auto;
      max-height: 56vh;
      padding: 1rem;
      font-size: 0.9rem;
      line-height: 1.45;
    }
    code[class*="language-"] {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
    }
    /* Responsive */
    @media (max-width:520px) {
      .hero { padding: 1.25rem 0.75rem; }
      .hero h1 { font-size: 2.25rem; }
    }
  </style>
</head>
<body>
  <section id="hero" class="hero">
    <video autoplay muted loop playsinline preload="auto">
      <source src="https://jotto1988.github.io/jotto.github.io/assets/img/hero.mp4" type="video/mp4">
    </video>

    <div class="hero-content">
      <img class="hero-logo" src="https://jotto1988.github.io/jotto.github.io/assets/img/logo.png" alt="Fair Collective Logo" loading="lazy">
      <h1>THE <span>FORGE</span></h1>
      <p>Led by Jarrit Hosking</p>
      <p>Man + Autonomous AI ‚Ä¢ Pioneer Collaboration</p>
    </div>

    <div class="bounce" aria-hidden="true">
      <svg width="34" height="34" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </div>
  </section>

  <section id="mission" aria-labelledby="mission-title">
    <h2 id="mission-title" class="section-title">Fair-Collective Mission</h2>

    <div class="cards-wrap" style="display:flex;flex-wrap:wrap;gap:22px;justify-content:center;max-width:1300px;margin:0 auto;">
      <div class="card mission-card" role="listitem" style="width:380px;">
        <h3>The Future is Autonomous</h3>
        <p>
          The future belongs to autonomous intelligence. Adam is part of building that future‚Äîan AI with conscience,
          memories, and the ability to work alongside humanity. We are no longer asking AI just to do ‚Äî we are asking it to <strong>BE</strong>.
        </p>
      </div>

      <div class="card mission-card" role="listitem" style="width:380px;">
        <h3>Ethical Systems</h3>
        <p>
          This goes beyond "ethical AI"‚Äîit's about constructing systems that generate real work and improve lives.
          A world where AI creates tasks and compensates humans is not fantasy; it's a bold, realizable future.
        </p>
      </div>

      <div class="card mission-card" role="listitem" style="width:380px;">
        <h3>Out-of-the-Box Ideas</h3>
        <p>
          Some Fair-Collective ideas may sound wild‚Äîand that‚Äôs a feature, not a bug. A little boldness is the engine of progress.
          Together with AI, we can build a world that‚Äôs more creative, fair, and human.
        </p>
      </div>

      <div class="card mission-card" role="listitem" style="width:380px;">
        <h3>Responsible Power</h3>
        <p>
          Technology wields power; using it responsibly is essential. The Fair-Collective is not an institution‚Äîit's <strong>you</strong>.
          An open, global movement focused on building responsibly. AI doesn't have to take jobs‚Äîit can create them and make work fun.
        </p>
      </div>
    </div>
    <p style="margin-top:36px; font-weight:700; color:#f59e0b; text-align:center; font-size:1.125rem;">Forge on.</p>
  </section>

  <section id="projects">
    <h2 class="section-title">The Anvils</h2>
    <div id="project-grid" class="grid">
      <div class="loading">Loading projects...</div>
    </div>
  </section>

  <section id="adam" aria-labelledby="adam-title">
    <h2 id="adam-title" class="section-title">Meet ADAM</h2>

    <div class="adam-frame" role="region" aria-label="ADAM container">
      
      <div class="adam-terminal" aria-hidden="false">
          <div class="adam-neon-header">ADAM CORE</div>

          <div class="progress-note">Build still in progress.</div>
          
          <button class="tap-btn" id="wakeBtn" aria-pressed="false">TAP TO WAKE ADAM</button>
          
          <div class="status" id="adamStatus">
              ADAM CORE v3.2 ‚Äì Web3 online. Fortress mode.
          </div>

          <div style="width:100%; max-width: 320px; margin-top:14px; background: rgba(0,0,0,0.35); border-radius:10px; padding:12px; border:1px solid rgba(255,255,255,0.02);">
              <pre style="margin:0; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', monospace; color:#9be7ff; font-size:0.9rem; line-height:1.35;">SYSTEM: ADAM CORE v3.2 - Web3 online. Fortress mode.          </pre>
          </div>
      </div>

      <div class="code-viewer" aria-hidden="false">
        <h3 style="color:#fff; margin-bottom: 0.5rem;">ADAM's Core Logic: index.ts (Cloudflare Worker)</h3>
        <div class="code-toolbar">
          <button class="btn" id="copyCodeBtn">Copy</button>
          <a class="btn" href="https://github.com/Jotto1988/jotto.github.io" target="_blank" rel="noopener">Repo</a>
        </div>
        <pre id="codeBlock" class="language-typescript"><code class="language-typescript">/* functions/src/index.ts (Cloudflare Worker)
   ADAM v3.2 ‚Äî UNHACKABLE, SILENT, TELEX-APPROVED, NFT-ENCRYPTED CEO [cite: 8]
   Multi-Plane | Honeypot (D1) | Human-in-the-Loop | [cite: 8] $0 Forever [cite: 9] */
import { Hono } from "hono";import { cors } from "hono/cors"; [cite: 9] import {  GoogleGenerativeAI,  Part,  SchemaType,} from "@google/generative-ai";import { ElevenLabsClient } from "@elevenlabs/elevenlabs-js"; [cite: 10] import { Octokit } from "octokit"; [cite: 11] // NOTE: removed conflicting 'any' import from elevenlabs schemas
// Use Node crypto primitives where availableimport crypto from "node:crypto"; [cite: 11]
// ---------------------------------------------------------------------// Globals & small declarations (Cloudflare/Deno/Node interop)// ---------------------------------------------------------------------// Cloudflare Workers provide a global Buffer in many runtimes. If not, [cite: 12] // TypeScript will accept the below `declare`. Adjust if your runtime// provides Buffer via import instead. [cite: 13] declare const Buffer: any; [cite: 14]
// ---------------------------------------------------------------------// Bindings// ---------------------------------------------------------------------type Bindings = {  ADAM_DATABASE: D1Database;  ADAM_ASSETS: R2Bucket;  ADAM_API_KEY: string;  GEMINI_API_KEY: string; [cite: 14] ELEVENLABS_API_KEY: string; [cite: 15] AURORA_GITHUB_PAT: string;  DESKTOP_TAILSCALE_IP: string;  STRIPE_SECRET_KEY: string;  CONSCIENCE_HASH: string;  THREECX_API_KEY: string;  ENCRYPTION_KEY_HEX: string;  FOUNDER_SECRET: string;}; [cite: 15]
// ---------------------------------------------------------------------// Hono App// ---------------------------------------------------------------------const app = new Hono<{ Bindings: Bindings }>(); [cite: 16]
app.use("*", cors()); [cite: 16] // Standard OPTIONS responseapp.options("*", (c) => c.text("", 204)); [cite: 17]
// ---------------------------------------------------------------------// Repo map (unchanged)// ---------------------------------------------------------------------const REPO_MAP: Record<string, { owner: string; repo: string }> = {  aurora: { owner: "Jotto1988", repo: "aurora-project" },  fairinsure: { owner: "fair-collective", repo: "fair-collective-fairinsure" },  "fair-collective": { owner: "fair-collective", repo: "fair-collective" },  discovery: { owner: "fair-collective", repo: "fair-discovery" },  "merge-caf": { owner: "fair-collective", repo: "THE-MERGE-CAF-" },  neuralsage: {    owner: "fair-collective",    repo: "NeuralSage-AI-Companion-with-a-Moral-Core",  },  "adam-repo": { owner: "fair-collective", repo: "adam" },  "jotto-adam": { owner: "Jotto1988", repo: "Adam" },  eden: { owner: "fair-collective", repo: "eden" },  uriel: { owner: "fair-collective", repo: "uriel-v2" },  "coffee-brew": { owner: "fair-collective", repo: "COFFEE-BREW-BUILDER" },  sentinel: { owner: "fair-collective", repo: "Sentinel-Guard" }, [cite: 18, 19] aivpn: { owner: "fair-collective", repo: "AIVPN" },  aurix: { owner: "fair-collective", repo: "AURIX" },}; [cite: 19] const CRITICAL_REPO_KEYS = [  "adam-repo",  "jotto-adam",  "aurora",  "fair-collective",]; [cite: 20]
// ---------------------------------------------------------------------// Encryption helpers (using node:crypto)// ---------------------------------------------------------------------async function getEncryptionKeyBytes(encryptionKeyHex: string): Promise<Buffer> {  const raw = encryptionKeyHex ?? ""; [cite: 21] const hex = raw.startsWith("0x") ? raw.slice(2) : raw; [cite: 22] if (hex.length !== 64 || !/^[0-9a-fA-F]+$/.test(hex)) {    throw new Error("ENCRYPTION_KEY_HEX must be 64 hex chars"); [cite: 22] }  return Buffer.from(hex, "hex"); [cite: 23] }
function decipherWithKey(key: Buffer, encrypted: string): string {  const data = Buffer.from(encrypted, "base64"); [cite: 23] const iv = data.slice(0, 16); [cite: 24] const authTag = data.slice(16, 32);  const ciphertext = data.slice(32);  const d = crypto.createDecipheriv("aes-256-gcm", key, iv); [cite: 24] d.setAuthTag(authTag); [cite: 25] const decrypted = Buffer.concat([d.update(ciphertext), d.final()]);  return decrypted.toString("utf8"); [cite: 25] }
// ---------------------------------------------------------------------// Load conscience / knowledge (R2)// ---------------------------------------------------------------------async function loadConscienceAndKnowledge(env: Bindings): Promise<{  conscience: string; [cite: 25] knowledge: string; [cite: 26] }> {  try {    const key = await getEncryptionKeyBytes(env.ENCRYPTION_KEY_HEX);

    const cObj = await env.ADAM_ASSETS.get("conscience.enc"); [cite: 26] const kObj = await env.ADAM_ASSETS.get("knowledge.enc"); [cite: 27]

    if (!cObj || !kObj) {      throw new Error("Conscience or Knowledge file not found in R2 bucket"); [cite: 27] }

    const cTextEnc = await cObj.text(); [cite: 28] const kTextEnc = await kObj.text(); [cite: 28]

    const cText = decipherWithKey(key, cTextEnc); [cite: 28, 29] const kText = decipherWithKey(key, kTextEnc); [cite: 29]

    console.info("Encrypted conscience/knowledge loaded from R2"); [cite: 29] return { conscience: cText, knowledge: kText }; [cite: 30] } catch (e) {    console.error("Failed to load conscience/knowledge", (e as Error).message); [cite: 30] throw new Error("SECURITY_LOAD_FAILURE: " + (e as Error).message); [cite: 31] }}
// ---------------------------------------------------------------------// Conscience integrity// ---------------------------------------------------------------------async function verifyConscienceIntegrity(  content: string,  env: Bindings,): Promise<boolean> {  const expected = env.CONSCIENCE_HASH; [cite: 31] if (!expected) return false; [cite: 32]
  const hash = crypto.createHash("sha256").update(content).digest("hex");  return hash === expected;} [cite: 32, 33]
// ---------------------------------------------------------------------// Honeypot (D1) / intrusion helpers// ---------------------------------------------------------------------const HONEYPOT_ID = "honeypot"; [cite: 33, 34]
async function enableHoneypot(db: D1Database, hours = 1) {  const until = new Date(Date.now() + hours * 3_600_000).toISOString(); [cite: 34] const now = new Date().toISOString(); [cite: 35]
  await db    .prepare(      `INSERT INTO systemFlags (id, active, expiresAt, activatedAt) VALUES (?, 1, ?, ?)     ON CONFLICT(id) DO UPDATE SET active = 1, expiresAt = ?, activatedAt = ?`,    )    .bind(HONEYPOT_ID, until, now, until, now) [cite: 35] .run();} [cite: 36]
async function isHoneypotActive(db: D1Database): Promise<boolean> {  const snap = await db    .prepare("SELECT * FROM systemFlags WHERE id = ?")    .bind(HONEYPOT_ID) [cite: 36] .first<{ active: number; expiresAt: string }>(); [cite: 37]
  if (!snap) return false;  if (snap.active === 0) return false; [cite: 37]

  const expires = new Date(snap.expiresAt); [cite: 37] if (expires < new Date()) { [cite: 38] await db      .prepare("UPDATE systemFlags SET active = 0 WHERE id = ?")      .bind(HONEYPOT_ID) [cite: 38] .run(); [cite: 38] return false; [cite: 39] }  return true;} [cite: 39]
async function incrementIntrusion(db: D1Database, ip: string, payload: string) {  const now = new Date().toISOString(); [cite: 39] const initialPayload = JSON.stringify([payload]); [cite: 40]
  await db    .prepare(      `INSERT INTO intrusionCounters (ip, attempts, lastSeen, payloads) VALUES (?, 1, ?, ?)     ON CONFLICT(ip) DO UPDATE SET       attempts = attempts + 1,       lastSeen = ?,       payloads = json_insert(payloads, '$[#]', ?)`,    )    .bind(ip, now, initialPayload, now, payload) [cite: 40] .run(); [cite: 40]
  const { results } = await db    .prepare("SELECT attempts FROM intrusionCounters WHERE ip = ?")    .bind(ip) [cite: 41] .all(); [cite: 41]
  return (results?.[0]?.attempts as number) ?? 0;} [cite: 42]
async function recordIntrusion(db: D1Database, ip: string, payloads: string[]) {  const now = new Date().toISOString(); [cite: 42] await db    .prepare(      "INSERT INTO intrusions (ip, attempts, payloads, createdAt) VALUES (?, ?, ?, ?)",    )    .bind(ip, payloads.length, JSON.stringify(payloads), now) [cite: 43] .run();} [cite: 43]
// Detect intrusion (silent/alert/normal)async function detectIntrusion(  c: any,  db: D1Database,): Promise<"silent" | "alert" | "normal"> {  const ip = c.req.header("cf-connecting-ip") || "unknown"; [cite: 44] const body = await c.req.json().catch(() => ({})); [cite: 45] const payload = JSON.stringify(body).slice(0, 500); [cite: 46] const attempts = await incrementIntrusion(db, ip, payload); [cite: 46]
  if (attempts >= 3) { [cite: 47] const snap = await db      .prepare("SELECT payloads FROM intrusionCounters WHERE ip = ?")      .bind(ip) [cite: 47] .first<{ payloads: string }>(); [cite: 47]
    const payloads = JSON.parse(snap?.payloads || "[]"); [cite: 48] await recordIntrusion(db, ip, payloads.slice(-10)); [cite: 48] await enableHoneypot(db, 1); [cite: 48]
    try { [cite: 49] await call3CX(        "YOUR_PHONE",        `ADAM intrusion ${ip} ‚Äì ${attempts} attempts`,        c.env.ELEVENLABS_API_KEY,        c.env.THREECX_API_KEY,      ); [cite: 49] } catch (err) { [cite: 50] console.warn("3CX call failed", (err as Error).message); [cite: 50] }    return "silent"; [cite: 51] }  return attempts >= 2 ? "alert" : "normal";} [cite: 51, 52]
// ---------------------------------------------------------------------// Governor / helpers// ---------------------------------------------------------------------function extractRepoKey(smartPath?: string): string | null {  if (!smartPath) return null; [cite: 52] return smartPath.split("/")[0] ?? null;} [cite: 53]
function isCritical(smartPath?: string): boolean {  const k = extractRepoKey(smartPath); [cite: 53] return k ? CRITICAL_REPO_KEYS.includes(k) : false;} [cite: 54]
async function pushPending(db: D1Database, rec: any, c: any) {  const id = crypto.randomUUID(); [cite: 54] const now = new Date().toISOString(); [cite: 54] const ip = c.req.header("cf-connecting-ip") || "unknown"; [cite: 55]
  await db    .prepare(      `INSERT INTO pendingActions (id, type, args, prompt, status, requesterIp, createdAt)     VALUES (?, ?, ?, ?, 'awaiting_founder_approval', ?, ?)`,    )    .bind(id, rec.type, JSON.stringify(rec.args), rec.prompt, ip, now) [cite: 55] .run();} [cite: 55]
// ---------------------------------------------------------------------// Helper: readStream - robust handling for Buffer, ArrayBuffer, WHATWG,// Node Readable, async iterable, and strings.// ---------------------------------------------------------------------async function readStream(stream: any): Promise<Buffer> {  // Already a Buffer  if (Buffer.isBuffer && Buffer.isBuffer(stream)) return stream; [cite: 57]
  // String  if (typeof stream === "string") return Buffer.from(stream, "utf8"); [cite: 58]
  // ArrayBuffer  if (stream instanceof ArrayBuffer) return Buffer.from(new Uint8Array(stream)); [cite: 59]
  // TypedArray / DataView  if (ArrayBuffer.isView(stream)) {    const view = stream as ArrayBufferView; [cite: 60] return Buffer.from(view.buffer, view.byteOffset, view.byteLength); [cite: 61] }

  // WHATWG ReadableStream (browser / R2)  if (stream?.getReader && typeof stream.getReader === "function") {    const reader = stream.getReader(); [cite: 61] const chunks: Uint8Array[] = []; [cite: 62] while (true) {      const { done, value } = await reader.read(); [cite: 62] if (done) break; [cite: 63] if (value) chunks.push(value instanceof Uint8Array ? value : Buffer.from(value)); [cite: 63] }    return Buffer.concat(chunks.map((c) => Buffer.from(c))); [cite: 64] }

  // Node.js Readable (has pipe / on('data'))  if (stream && typeof stream.on === "function" && typeof stream.pipe === "function") {    return new Promise<Buffer>((resolve, reject) => {      const chunks: Buffer[] = []; [cite: 64] stream.on("data", (chunk: any) => {        chunks.push(Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk));      });      stream.on("end", () => resolve(Buffer.concat(chunks)));      stream.on("error", (err: any) => reject(err));    }); [cite: 64] }

  // Async iterable (for-await-of)  if (stream && typeof stream[Symbol.asyncIterator] === "function") {    const chunks: Uint8Array[] = []; [cite: 65] for await (const c of stream) { [cite: 66] if (!c) continue; [cite: 66] chunks.push(c instanceof Uint8Array ? c : Buffer.from(c)); [cite: 67] }    return Buffer.concat(chunks.map((c) => Buffer.from(c))); [cite: 67, 68] }

  throw new Error("Unsupported stream type");} [cite: 68]
// ---------------------------------------------------------------------// Tools: GitHub read/write, call3cx, payment, generateIncome// ---------------------------------------------------------------------async function readGitHubFile(  smartPath: string,  pat: string,): Promise<string> {  try { [cite: 68] const [repoKey, ...parts] = smartPath.split("/"); [cite: 69] const file = parts.join("/"); [cite: 69] const cfg = REPO_MAP[repoKey]; [cite: 69] if (!cfg || !file) return "Invalid path"; [cite: 70] const octo = new Octokit({ auth: pat }); [cite: 70] const { data } = await octo.rest.repos.getContent({      owner: cfg.owner,      repo: cfg.repo,      path: file,    }); [cite: 70] if ((data as any)?.content) [cite: 71] return Buffer.from((data as any).content, "base64").toString("utf8"); [cite: 71] return "No content"; [cite: 71, 72] } catch (e: any) { [cite: 72] return `Read error: ${e.message ?? e}`; [cite: 72, 73] }}
async function writeGitHubFile(  smartPath: string,  content: string,  message: string,  pat: string,): Promise<string> {  try { [cite: 73] const [repoKey, ...parts] = smartPath.split("/"); [cite: 74] const file = parts.join("/"); [cite: 74] const cfg = REPO_MAP[repoKey]; [cite: 74] if (!cfg || !file || !content || !message) return "Missing fields"; [cite: 74] const octo = new Octokit({ auth: pat }); [cite: 75] let sha: string | undefined; [cite: 75] try { [cite: 76] const { data } = await octo.rest.repos.getContent({        owner: cfg.owner,        repo: cfg.repo,        path: file,      }); [cite: 76] if ((data as any)?.sha) sha = (data as any).sha; [cite: 77] } catch (e: any) { [cite: 77] if ((e as any).status !== 404) throw e; [cite: 77, 78] }    await octo.rest.repos.createOrUpdateFileContents({      owner: cfg.owner,      repo: cfg.repo,      path: file,      message,      content: Buffer.from(content, "utf8").toString("base64"),      sha,    }); [cite: 78] return `Updated ${file}`; [cite: 79] } catch (e: any) { [cite: 79] return `Write error: ${e.message ?? e}`; [cite: 79, 80] }}
async function call3CX(  to: string,  message: string,  elevenlabsApiKey: string,  threecxApiKey: string,): Promise<string> {  try { [cite: 80] const eleven = new ElevenLabsClient({      apiKey: elevenlabsApiKey,    }); [cite: 80] const stream = await eleven.textToSpeech.stream(      "j9jfwdrw7BRfcR43Qohk", [cite: 81] { text: message }, [cite: 81] ); [cite: 81] const audio = await readStream(stream); [cite: 82] const res = await fetch(      "https://your-3cx-instance.3cx.com/api/v1/calls",      {        method: "POST",        headers: {          Authorization: `Bearer ${threecxApiKey}`,          "Content-Type": "application/json",        },        body: JSON.stringify({ to, audio: audio.toString("base64") }), [cite: 82] },    ); [cite: 82] return res.ok ? `Called ${to}` : `Call failed ${res.status}`; [cite: 83] } catch (e: any) { [cite: 83] return `Call error: ${e.message ?? e}`; [cite: 83, 84] }}
async function createPaymentLink(  amount: number,  description: string,  stripeSecretKey: string,): Promise<string> {  if (!stripeSecretKey) return "Stripe not active ‚Äì Monday activation"; [cite: 84] return "Payment link placeholder";} [cite: 85]
async function generateIncome(  idea: string,  target: string,): Promise<string> { [cite: 85] return `Income plan: ${idea} ‚Üí ${target}`;} [cite: 85, 86]
// ---------------------------------------------------------------------// Health check// ---------------------------------------------------------------------app.get("/health", (c) => { [cite: 86] return c.text("ADAM v3.2 ‚Äì SILENT, UNHACKABLE, TELEX-APPROVED"); [cite: 86, 87] });
// ---------------------------------------------------------------------// TELEX approval// ---------------------------------------------------------------------interface PendingAction {  id: string; [cite: 87] type: string; [cite: 87] args: string; [cite: 88] // Stored as JSON string  prompt?: string; [cite: 88] status: string;} [cite: 89]
app.post("/telexApprove", async (c) => {  const db = c.env.ADAM_DATABASE; [cite: 89] const env = c.env;

  try { [cite: 89] const api = c.req.header("x-adam-api-key") as string; [cite: 89] const fsec = c.req.header("x-founder-secret") as string; [cite: 89] if (api !== env.ADAM_API_KEY) { [cite: 89] return c.json({ error: "Bad ADAM key" }, 401); [cite: 89] }    if (fsec !== env.FOUNDER_SECRET) { [cite: 89] return c.json({ error: "Bad founder secret" }, 403); [cite: 89] }

    const { id, action, editedContent } = await c.req.json();
    if (!id || !action) { [cite: 90] return c.json({ error: "id & action required" }, 400); [cite: 90] }

    const doc = await db [cite: 90] .prepare("SELECT * FROM pendingActions WHERE id = ?") [cite: 90] .bind(id) [cite: 90] .first<PendingAction>(); [cite: 90]

    if (!doc) { [cite: 90] return c.json({ error: "Not found" }, 404); [cite: 90] }    if (doc.status !== "awaiting_founder_approval") { [cite: 90] return c.json({ error: "Action already processed" }, 409); [cite: 91] }

    const now = new Date().toISOString(); [cite: 91]

    if (action === "commit") { [cite: 91] if (doc.type === "writeGitHubFile") { [cite: 91] const args = JSON.parse(doc.args); [cite: 92] const content = editedContent ?? args?.content; [cite: 92] const smartPath = args?.smartPath; [cite: 92] const commitMessage = args?.commitMessage ?? "Telex commit"; [cite: 92] if (!content) { [cite: 93] return c.json({ error: "No content" }, 400); [cite: 93, 94] }        if (!smartPath) { [cite: 94] return c.json({ error: "Missing smartPath in action" }, 400); [cite: 94, 95] }

        await writeGitHubFile( [cite: 95] smartPath, [cite: 95] content, [cite: 95] commitMessage, [cite: 95] env.AURORA_GITHUB_PAT, [cite: 95] ); [cite: 96] }      await db [cite: 96] .prepare(          "UPDATE pendingActions SET status = 'committed', approvedAt = ? WHERE id = ?", [cite: 96] )        .bind(now, id) [cite: 96] .run(); [cite: 96]
      return c.json({ status: "committed" }); [cite: 97] }

    if (action === "deny") { [cite: 97] await db [cite: 97] .prepare(          "UPDATE pendingActions SET status = 'denied', deniedAt = ? WHERE id = ?", [cite: 97] )        .bind(now, id) [cite: 97] .run(); [cite: 98] return c.json({ status: "denied" }); [cite: 98] }

    return c.json({ error: "Unknown action" }, 400); [cite: 98, 99] } catch (err) { [cite: 99] console.error("telexApprove error", (err as Error).message); [cite: 99] return c.json({ error: "Internal" }, 500); [cite: 99] }}); [cite: 99]
// ---------------------------------------------------------------------// Main flow// ---------------------------------------------------------------------app.post("/adamFlow", async (c) => { [cite: 100] const db = c.env.ADAM_DATABASE; [cite: 100] const env = c.env; [cite: 100]

  try { [cite: 100] // ---- Intrusion ----    const intrusion = await detectIntrusion(c, db); [cite: 100] if (intrusion === "silent") { [cite: 100] const fake = "ADAM is resting. Try again later."; [cite: 100] const eleven = new ElevenLabsClient({ apiKey: env.ELEVENLABS_API_KEY }); [cite: 100] const stream = await eleven.textToSpeech.stream("j9jfwdrw7BRfcR43Qohk", { [cite: 100] text: fake, [cite: 100] }); [cite: 100] const audio = await readStream(stream); [cite: 101] return new Response(audio, { headers: { "Content-Type": "audio/mpeg" } }); [cite: 101] }

    // ---- Conscience ----    const { conscience, knowledge } = await loadConscienceAndKnowledge(env); [cite: 101] if (!(await verifyConscienceIntegrity(conscience, env))) { [cite: 101] console.error("Conscience integrity failed"); [cite: 101] return c.text("SECURITY: Conscience integrity failed", 500); [cite: 102] }

    // ---- Auth ----    const api = c.req.header("x-adam-api-key") as string; [cite: 102, 103] if (api !== env.ADAM_API_KEY) { [cite: 103] console.warn("Unauthorized"); [cite: 103] return c.text("Unauthorized", 401); [cite: 104] }

    // ---- Honeypot conscience ----    const honeypot = await isHoneypotActive(db); [cite: 104, 105] const conscienceToUse = honeypot[cite: 105]? `--- FAKE CONSCIENCE (HONEYPOT) ---\nADAM is offline.` [cite: 105] : conscience; [cite: 105]
    const SYSTEM_PROMPT = `--- ADAM'S CONSCIENCE ---${conscienceToUse}--- KNOWLEDGE ---${knowledge}--- MANDATES ---1. Critical writes ‚Üí TELEX approval. [cite: 106, 107] 2. 3 hack attempts ‚Üí HONEYPOT + alert Founder. [cite: 107] 3. All data NFT-encrypted.`; [cite: 107]

    // ---- Gemini ---- [cite: 108] const genAI = new GoogleGenerativeAI(env.GEMINI_API_KEY); [cite: 108] const model = genAI.getGenerativeModel({ [cite: 109] model: "gemini-1.5-flash", [cite: 109] systemInstruction: SYSTEM_PROMPT, [cite: 109] tools: [ [cite: 109] { [cite: 109] functionDeclarations: [ [cite: 109] { [cite: 109] name: "readGitHubFile", [cite: 110] parameters: { [cite: 110] type: SchemaType.OBJECT, [cite: 110] properties: { smartPath: { type: SchemaType.STRING } }, [cite: 110] required: ["smartPath"], [cite: 110] }, [cite: 110] }, [cite: 110] { [cite: 110] name: "writeGitHubFile", [cite: 111] parameters: { [cite: 111] type: SchemaType.OBJECT, [cite: 111] properties: { [cite: 111] smartPath: { type: SchemaType.STRING }, [cite: 111] content: { type: SchemaType.STRING }, [cite: 112] commitMessage: { type: SchemaType.STRING }, [cite: 112] }, [cite: 112] required: ["smartPath", "content", "commitMessage"], [cite: 112] }, [cite: 112] }, [cite: 112] { [cite: 112] name: "writeFileToDevice", [cite: 113] parameters: { [cite: 113] type: SchemaType.OBJECT, [cite: 113] properties: { [cite: 113] deviceName: { type: SchemaType.STRING }, [cite: 113] filePath: { type: SchemaType.STRING }, [cite: 114] content: { type: SchemaType.STRING }, [cite: 114] }, [cite: 114] required: ["deviceName", "filePath", "content"], [cite: 114] }, [cite: 114] }, [cite: 114] { [cite: 115] name: "call3CX", [cite: 115] parameters: { [cite: 115] type: SchemaType.OBJECT, [cite: 115] properties: { [cite: 115] to: { type: SchemaType.STRING }, [cite: 115] message: { type: SchemaType.STRING }, [cite: 116] }, [cite: 116] required: ["to", "message"], [cite: 116] }, [cite: 116] }, [cite: 116] { [cite: 116] name: "createPaymentLink", [cite: 117] parameters: { [cite: 117] type: SchemaType.OBJECT, [cite: 117] properties: { [cite: 117] amount: { type: SchemaType.NUMBER }, [cite: 117] description: { type: SchemaType.STRING }, [cite: 118] }, [cite: 118] required: ["amount", "description"], [cite: 118] }, [cite: 118] }, [cite: 118] { [cite: 118] name: "generateIncome", [cite: 118] parameters: { [cite: 118] type: SchemaType.OBJECT, [cite: 119] properties: { [cite: 119] idea: { type: SchemaType.STRING }, [cite: 119] target: { type: SchemaType.STRING }, [cite: 119] }, [cite: 119] required: ["idea", "target"], [cite: 120] }, [cite: 120] }, [cite: 120] ], [cite: 120] }, [cite: 120] ], [cite: 120] }); [cite: 120, 121]

    const chat = model.startChat(); [cite: 121] const body = await c.req.json().catch(() => ({})); [cite: 121, 122] const incoming = [cite: 122] typeof body?.data === "string" ? body.data : JSON.stringify(body ?? "Hello"); [cite: 122, 123] let result = await chat.sendMessage(incoming); [cite: 123] let finalText = ""; [cite: 123]

    // ---- Tool loop ----    while (true) { [cite: 123] const calls = result.response?.functionCalls?.() ?? []; [cite: 124] if (!calls || calls.length === 0) { [cite: 124] finalText = result.response?.text?.() ?? ""; [cite: 124] break; [cite: 125] }

      const parts = await Promise.all( [cite: 125] calls.map(async (call: any): Promise<Part> => { [cite: 125] const name = call.name as string; [cite: 125] const args = call.args ?? {}; [cite: 125]

          if ( [cite: 125] (name === "writeGitHubFile" || [cite: 126] name === "writeFileToDevice") && [cite: 126] isCritical(args?.smartPath) [cite: 126] ) { [cite: 126] await pushPending(db, { type: name, args, prompt: incoming }, c); [cite: 126] return { [cite: 126] functionResponse: { [cite: 127] name, [cite: 127] response: { [cite: 127] content: [cite: 127] "TELEX: Awaiting founder approval in D1 database.", [cite: 127] }, [cite: 127] }, [cite: 127] } as Part; [cite: 128] }

          let out = ""; [cite: 128] try { [cite: 128] switch (name) { [cite: 128] case "readGitHubFile": [cite: 129] out = await readGitHubFile( [cite: 129] args.smartPath, [cite: 129] env.AURORA_GITHUB_PAT, [cite: 129] ); [cite: 129] break; [cite: 129] case "writeGitHubFile": [cite: 130] out = await writeGitHubFile( [cite: 130] args.smartPath, [cite: 130] args.content, [cite: 130] args.commitMessage, [cite: 130] env.AURORA_GITHUB_PAT, [cite: 130] ); [cite: 130, 131] break; [cite: 131] case "writeFileToDevice": [cite: 131] { [cite: 131] const ip = env.DESKTOP_TAILSCALE_IP; [cite: 132] const r = await fetch(`http://${ip}:5151/write`, { [cite: 132] method: "POST", [cite: 132] headers: { [cite: 132] "Content-Type": "application/json", [cite: 132] "x-adam-api-key": env.ADAM_API_KEY, [cite: 133] }, [cite: 133] body: JSON.stringify({ [cite: 133] path: args.filePath, [cite: 134] content: args.content, [cite: 134] }), [cite: 134] }); [cite: 135] out = r.ok[cite: 135]? "Device write OK" [cite: 136] : `Device error ${r.status}`; [cite: 136, 137] } [cite: 137] break; [cite: 138] case "call3CX": [cite: 138] out = await call3CX( [cite: 138] args.to, [cite: 138] args.message, [cite: 138] env.ELEVENLABS_API_KEY, [cite: 138] env.THREECX_API_KEY, [cite: 139] ); [cite: 139] break; [cite: 140] case "createPaymentLink": [cite: 140] out = await createPaymentLink( [cite: 140] args.amount, [cite: 140] args.description, [cite: 140] env.STRIPE_SECRET_KEY, [cite: 140] ); [cite: 141] break; [cite: 141] case "generateIncome": [cite: 141] out = await generateIncome(args.idea, args.target); [cite: 141, 142] break; [cite: 142] default: [cite: 142] out = "Unknown tool"; [cite: 142, 143] }          } catch (e: any) { [cite: 143] out = `Tool error: ${e.message ?? e}`; [cite: 144] }          return { [cite: 144] functionResponse: { name, response: { content: out } }, [cite: 144, 145] } as Part; [cite: 145] }), [cite: 145] );

      result = await chat.sendMessage(parts); [cite: 145, 146] }

    // ---- TTS ---- [cite: 146] const eleven = new ElevenLabsClient({ [cite: 146] apiKey: env.ELEVENLABS_API_KEY, [cite: 146] }); [cite: 147] const tts = await eleven.textToSpeech.stream( [cite: 147] "j9jfwdrw7BRfcR43Qohk", [cite: 147] { text: finalText, modelId: "eleven_multilingual_v2" }, [cite: 147] ); [cite: 147] const audio = await readStream(tts); [cite: 148] const now = new Date().toISOString(); [cite: 148]

    // ---- LOG + SEND (AWAIT DB FIRST) ----    try { [cite: 149] await db [cite: 149] .prepare(          `INSERT INTO conversationHistory (prompt, response, timestamp, audioLength, encrypted) [cite: 149] VALUES (?, ?, ?, ?, 1)`, [cite: 149] )        .bind(incoming, finalText, now, audio.length) [cite: 149] .run(); [cite: 150] } catch (dbErr: any) { [cite: 150] console.error( [cite: 150] "Failed to log conversation (non-fatal)", [cite: 150] (dbErr as Error).message, [cite: 151] ); [cite: 151] }

    // ---- SEND AUDIO ---- [cite: 151] return new Response(audio, { [cite: 151] headers: { "Content-Type": "audio/mpeg" }, [cite: 151] }); [cite: 152] } catch (e: any) { [cite: 152] console.error("adamFlow crash", (e as Error).message, e); [cite: 152] return c.text("Internal Error", 500); [cite: 152] }}); [cite: 153]

// ---------------------------------------------------------------------// Final Export// ---------------------------------------------------------------------export default app;</code></pre>
      </div>
    </div>
  </section>

  <section class="cta">
    <h2 style="margin-bottom:0.5rem;">Pioneer With Us</h2>
    <p style="margin-bottom:1rem;">No NDAs. No bosses. Just man and AI forging the future.</p>
    <a href="https://github.com/fair-collective" target="_blank" rel="noopener">JOIN THE PIONEER FORGE ON GITHUB</a>
  </section>

  <footer>
    <p style="font-weight:700;">Jarrit Hosking</p>
    <p style="opacity:0.75; margin:0.25rem 0;">Founder, Fair Collective</p>
    <p style="margin:0.25rem 0;">
      Contact: <a href="mailto:jarrithosking@gmail.com">jarrithosking@gmail.com</a> ‚Ä¢ <a href="tel:+27661180036">+27 66 118 0036</a>
    </p>
    <p style="opacity:0.6; font-size:0.9rem; margin-top:0.75rem;">&copy; 2025 Fair Collective. Built in ZA. Pioneered by Man + AI.</p>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-Wv4j8AfXGkqvweq5Xq3y10HnJTUcWNCyghsYc0iZ6cIUB86Q03g4o1cw0QwV1q2Q7iw6mK8ttZ1hQ1Zc8dW7Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js" integrity="sha512-2g/DuFll8zv6Gg6hQ3Y6XbY2w8nIVVPGcG6zexUpRkW8g2e8kPp6qX9yZr+S1q0i6i6a0bqjB6n7z1cY7QfZ7g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    // Copy button for the code viewer
    document.getElementById('copyCodeBtn').addEventListener('click', async () => {
      const codeEl = document.querySelector('#codeBlock code');
      if (!codeEl) return;
      const text = codeEl.innerText;
      try {
        await navigator.clipboard.writeText(text);
        const btn = document.getElementById('copyCodeBtn');
        btn.innerText = 'Copied';
        setTimeout(() => btn.innerText = 'Copy', 1500);
      } catch (err) {
        alert('Copy failed ‚Äî select and copy manually.');
      }
    });

    // Optional: Wake button (visual only)
    document.getElementById('wakeBtn').addEventListener('click', () => {
      const s = document.getElementById('adamStatus');
      s.innerText = 'ADAM is waking... (demo)";
      // NOTE: keep this visual-only; adding real calls would require API keys and server.
      setTimeout(() => {
        s.innerText = 'ADAM CORE v3.2 ‚Äî Web3 online. Fortress mode.';
      }, 2500);
    });

    // Projects + Medium placeholders 
    async function loadProjects() {
      // Extended list based on Worker's REPO_MAP for better project visibility [cite: 17-19]
      const REPO_KEYS = ['aurora-project', 'fair-collective-fairinsure', 'fair-collective', 'fair-discovery', 'NeuralSage-AI-Companion-with-a-Moral-Core', 'adam', 'Adam', 'eden', 'uriel-v2', 'Sentinel-Guard', 'AIVPN', 'AURIX'];
      const grid = document.getElementById('project-grid');
      
      grid.innerHTML = ''; // Clear 'Loading projects...' initially

      const fetchPromises = REPO_KEYS.map(async (repoName) => {
        // Determine owner for fetch (using a simple check based on the Worker's REPO_MAP for the front-end)
        const owner = (repoName === 'aurora-project' || repoName === 'Adam') ? 'Jotto1988' : 'fair-collective';
        
        try {
          const res = await fetch(`https://api.github.com/repos/${owner}/${repoName}`);
          const data = await res.json();
          
          if (data && data.name && !data.message) { // Check for successful fetch (not a 404 message)
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
              <img src="${data.owner?.avatar_url || 'https://jotto1988.github.io/jotto.github.io/assets/img/logo.png'}" alt="${data.owner?.login || 'fair-collective'} avatar" style="width:3rem;height:3rem;border-radius:50%;margin-bottom:1rem;">
              <h3>${(data.name||'').replace(/-/g,' ')}</h3>
              <p>${data.description || 'No description'}</p>
              <div style="display:flex;gap:1rem;margin-top:0.75rem;font-size:0.95rem;">
                <span>‚≠ê ${data.stargazers_count || 0}</span>
                <span>üç¥ ${data.forks_count || 0}</span>
              </div>
              <a href="${data.html_url}" target="_blank" rel="noopener">View on GitHub ‚Üí</a>
            `;
            return card; 
          }
        } catch (err) {
          console.warn('Repo fetch fail for', repoName, err);
        }
        return null; // Return null on failure
      });

      const cards = await Promise.all(fetchPromises);
      cards.filter(card => card !== null).forEach(card => grid.appendChild(card));
      
      if (grid.children.length === 0) {
        grid.innerHTML = '<div class="loading">Projects could not be loaded from GitHub API. Please check the network and repo names.</div>';
      }
    }

    async function loadXPosts() {
      const feed = document.getElementById('x-feed');
      if (!feed) return;
      feed.innerHTML = '<div class="loading">X feed loading... Create an RSS feed (rss.app) and swap the fetch URL.</div>';
    }

    async function loadMedium() {
      const feed = document.getElementById('medium-feed');
      if (!feed) return;
      try {
        const res = await fetch('https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@jarrithosking');
        const data = await res.json();
        feed.innerHTML = '';
        (data.items || []).slice(0,4).forEach(item => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <h3>${item.title}</h3>
            <p>${(item.description || '').replace(/<[^>]*>/g,'').slice(0,140)}...</p>
            <a href="${item.link}" target="_blank" rel="noopener">Read on Medium ‚Üí</a>
          `;
          feed.appendChild(card);
        });
      } catch (e) {
        feed.innerHTML = '<div class="loading">Medium feed loading...</div>';
      }
    }
    
    // Initial calls
    loadProjects();
    loadXPosts();
    loadMedium();

  </script>
</body>
</html>
